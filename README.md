# GameLobbyApp

前提としてP2P通信のIP、ポート交換用のサーバーです。
これ自体にゲームロジックの同期機能はありません。

このサーバーを介してマッチングした後に各クライアントで対戦相手に対して
P2P通信接続を行う、と言う形で使います。

またNAT越えのためのSTUNやそれに準ずる対策はクライアント側で用意してください。

# 要件

- マッチングの種類はランダムマッチング、待ち合わせマッチングが存在する
- ランダムマッチングの場合、最も人数が多い空いている部屋にマッチングする
- 待ち合わせマッチングは明示的に行う。行った場合、部屋に参加するためのパスコードが表示される
    つまり作成と参加が存在。

- ランダムマッチングでは途中参加のシステムを作成する必要がある
    途中参加する側は参加し次第登録を行う
    途中参加される側は10秒ごとのポーリングを行い、登録していないIPがある場合にそれを登録する。

    途中退出する側は退出をサーバーに知らせる
    途中退出される側は10秒ごとのポーリングで削除されたIPを検出し、ソケットを破棄する

    タイムアウトされる側は30秒間送受信を行っていないソケットを検出し、Kick Voteをサーバーに送る。
    サーバーは人数-1のKick Voteが集まった場合、そのIPを削除する